var weapon = argument0;
var hitCount = 0;
for(var i = 0; i <= global.weapons[# weaponStats.weaponSpeed, weapon]; i++){
	var diceRoll = irandom_range(1,10);
	if(objectType = combatType.friendly){
		if(diceRoll >= global.weapons[# weaponStats.toHit, weapon]){
			hitCount ++
		}
	}
}
return hitCount;